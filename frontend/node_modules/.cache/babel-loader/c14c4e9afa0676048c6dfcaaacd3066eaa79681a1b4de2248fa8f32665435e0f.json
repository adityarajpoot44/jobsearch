{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Downloads\\\\FULL STACK\\\\frontend\\\\src\\\\pages\\\\upload_page\\\\upload.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Upload = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const handleFileChange = event => {\n    setFile(event.target.files[0]); // Update file state\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!file) {\n      setMessage(\"Please select a file to upload.\");\n      return;\n    }\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = async () => {\n      const base64EncodedFile = reader.result.split(\",\")[1];\n      try {\n        const response = await fetch(\"http://localhost:3000/upload\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            file: base64EncodedFile,\n            contentType: file.type,\n            filename: file.name\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          setMessage(\"File uploaded successfully!\");\n        } else {\n          setMessage(`Upload failed: ${data.message}`);\n        }\n      } catch (error) {\n        console.error(\"Error:\", error);\n        setMessage(\"File upload failed. Please try again.\");\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Upload a File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"upload-message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"file\",\n        children: \"Choose a file:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"file\",\n        onChange: handleFileChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(Upload, \"90rxx89DAeVfO1aRLt0hivI8MC0=\");\n_c = Upload;\nexport default Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Upload","_s","file","setFile","message","setMessage","handleFileChange","event","target","files","handleSubmit","preventDefault","reader","FileReader","readAsDataURL","onloadend","base64EncodedFile","result","split","response","fetch","method","headers","body","JSON","stringify","contentType","type","filename","name","data","json","success","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","onChange","required","_c","$RefreshReg$"],"sources":["C:/Users/user/Downloads/FULL STACK/frontend/src/pages/upload_page/upload.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Upload = () => {\r\n    const [file, setFile] = useState(null);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const handleFileChange = (event) => {\r\n        setFile(event.target.files[0]); // Update file state\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!file) {\r\n            setMessage(\"Please select a file to upload.\");\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n\r\n        reader.onloadend = async () => {\r\n            const base64EncodedFile = reader.result.split(\",\")[1];\r\n\r\n            try {\r\n                const response = await fetch(\"http://localhost:3000/upload\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify({\r\n                        file: base64EncodedFile,\r\n                        contentType: file.type,\r\n                        filename: file.name,\r\n                    }),\r\n                });\r\n\r\n                const data = await response.json();\r\n                if (data.success) {\r\n                    setMessage(\"File uploaded successfully!\");\r\n                } else {\r\n                    setMessage(`Upload failed: ${data.message}`);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error:\", error);\r\n                setMessage(\"File upload failed. Please try again.\");\r\n            }\r\n        };\r\n    };\r\n\r\n    return (\r\n        <div className=\"upload-container\">\r\n            <h1>Upload a File</h1>\r\n            {message && <p className=\"upload-message\">{message}</p>}\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <label htmlFor=\"file\">Choose a file:</label>\r\n                <input type=\"file\" id=\"file\" onChange={handleFileChange} required />\r\n                <br /><br />\r\n                <button type=\"submit\">Upload</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Upload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}