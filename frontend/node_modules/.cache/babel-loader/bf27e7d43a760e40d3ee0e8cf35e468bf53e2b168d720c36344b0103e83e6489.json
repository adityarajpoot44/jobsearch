{"ast":null,"code":"// Create the login form dynamically\ndocument.body.innerHTML = `\n    <div class=\"login-container\">\n        <form id=\"loginForm\">\n            <h2>Login</h2>\n            <div class=\"input-container\">\n                <label for=\"username\">Username</label>\n                <input type=\"text\" id=\"username\" name=\"username\" required>\n            </div>\n            <div class=\"input-container\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" id=\"password\" name=\"password\" required>\n            </div>\n            <button type=\"submit\">Login</button>\n            <p>Don't have an account? <a href=\"signup.html\">Sign up</a></p>\n        </form>\n    </div>\n`;\n\n// Add event listener to handle login form submission\ndocument.getElementById(\"loginForm\").addEventListener(\"submit\", function (event) {\n  event.preventDefault(); // Prevent form from submitting normally\n\n  const username = document.getElementById(\"username\").value;\n  const password = document.getElementById(\"password\").value;\n\n  // Client-side validation\n  if (username === \"\" || password === \"\") {\n    alert(\"Please fill in both username and password.\");\n    return;\n  }\n\n  // Send login request to backend\n  fetch(\"/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(response => response.json()).then(data => {\n    if (data.success) {\n      // On successful login, redirect to the file upload page\n      window.location.href = \"upload.html\";\n    } else {\n      alert(\"Login failed: \" + data.message);\n    }\n  }).catch(err => {\n    console.error(\"Error logging in: \", err);\n    alert(\"Something went wrong. Please try again.\");\n  });\n});","map":{"version":3,"names":["document","body","innerHTML","getElementById","addEventListener","event","preventDefault","username","value","password","alert","fetch","method","headers","JSON","stringify","then","response","json","data","success","window","location","href","message","catch","err","console","error"],"sources":["C:/Users/user/Downloads/FULL STACK/frontend/src/pages/login_page/script.js"],"sourcesContent":["// Create the login form dynamically\r\ndocument.body.innerHTML = `\r\n    <div class=\"login-container\">\r\n        <form id=\"loginForm\">\r\n            <h2>Login</h2>\r\n            <div class=\"input-container\">\r\n                <label for=\"username\">Username</label>\r\n                <input type=\"text\" id=\"username\" name=\"username\" required>\r\n            </div>\r\n            <div class=\"input-container\">\r\n                <label for=\"password\">Password</label>\r\n                <input type=\"password\" id=\"password\" name=\"password\" required>\r\n            </div>\r\n            <button type=\"submit\">Login</button>\r\n            <p>Don't have an account? <a href=\"signup.html\">Sign up</a></p>\r\n        </form>\r\n    </div>\r\n`;\r\n\r\n// Add event listener to handle login form submission\r\ndocument.getElementById(\"loginForm\").addEventListener(\"submit\", function(event) {\r\n    event.preventDefault();  // Prevent form from submitting normally\r\n\r\n    const username = document.getElementById(\"username\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n\r\n    // Client-side validation\r\n    if (username === \"\" || password === \"\") {\r\n        alert(\"Please fill in both username and password.\");\r\n        return;\r\n    }\r\n\r\n    // Send login request to backend\r\n    fetch(\"/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        if (data.success) {\r\n            // On successful login, redirect to the file upload page\r\n            window.location.href = \"upload.html\";\r\n        } else {\r\n            alert(\"Login failed: \" + data.message);\r\n        }\r\n    })\r\n    .catch(err => {\r\n        console.error(\"Error logging in: \", err);\r\n        alert(\"Something went wrong. Please try again.\");\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACAA,QAAQ,CAACC,IAAI,CAACC,SAAS,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACAF,QAAQ,CAACG,cAAc,CAAC,WAAW,CAAC,CAACC,gBAAgB,CAAC,QAAQ,EAAE,UAASC,KAAK,EAAE;EAC5EA,KAAK,CAACC,cAAc,CAAC,CAAC,CAAC,CAAE;;EAEzB,MAAMC,QAAQ,GAAGP,QAAQ,CAACG,cAAc,CAAC,UAAU,CAAC,CAACK,KAAK;EAC1D,MAAMC,QAAQ,GAAGT,QAAQ,CAACG,cAAc,CAAC,UAAU,CAAC,CAACK,KAAK;;EAE1D;EACA,IAAID,QAAQ,KAAK,EAAE,IAAIE,QAAQ,KAAK,EAAE,EAAE;IACpCC,KAAK,CAAC,4CAA4C,CAAC;IACnD;EACJ;;EAEA;EACAC,KAAK,CAAC,QAAQ,EAAE;IACZC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDZ,IAAI,EAAEa,IAAI,CAACC,SAAS,CAAC;MAAER,QAAQ;MAAEE;IAAS,CAAC;EAC/C,CAAC,CAAC,CACDO,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;IACV,IAAIA,IAAI,CAACC,OAAO,EAAE;MACd;MACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,aAAa;IACxC,CAAC,MAAM;MACHb,KAAK,CAAC,gBAAgB,GAAGS,IAAI,CAACK,OAAO,CAAC;IAC1C;EACJ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;IACVC,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAEF,GAAG,CAAC;IACxChB,KAAK,CAAC,yCAAyC,CAAC;EACpD,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}